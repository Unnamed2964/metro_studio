# 更新日志

## 2026-02-21 (v0.45.0)

### 新功能
- 新增帮助系统：HelpView 组件（使用指南、功能介绍、快捷键参考）
- 新增帮助菜单栏入口，提供完整的用户文档导航

### 改进优化
- 优化城市导入菜单：中国城市按区域分组显示（华北、东北、华东、华中、华南、西部、港澳台）
- 新增功能队列文档（FEATURE-QUEUE.md），记录未来功能规划

---

## 2026-02-21 (v0.44.0)

### 新功能
- 新增 MapLineLegend 组件，自动生成并显示地图线路图例
- 新增 MapInterchangeMarkers 组件，支持动态换乘点标记（轨道/雷达/齿轮三种样式）
- 工程列表对话框支持批量选择、删除和 ZIP 打包导出功能
- 新增地图脉冲动效，使用 Canvas 实现动态扩散波纹

### 改进优化
- 默认底图切换为 CartoDB Dark，增强地铁终端美学风格
- 换乘点标记支持多种可视化样式，可缩放响应
- 本地库搜索结果支持关键字高亮显示
- 优化站点标签和换乘标记的显示逻辑与样式

---

## 2026-02-20 (v0.43.1)

### 改进优化
- 修正全局中文字体栈，优先使用 `PingFang SC / Microsoft YaHei / Noto Sans CJK SC`，避免回退到宋体
- 将界面字体基线提升到 `14px`，同步上调菜单栏、状态栏、属性面板与工具面板关键文字尺寸
- 同步上调 Naive UI 基础字号（`14px`）与小号文字（`13px`），保证弹窗与下拉菜单可读性一致

---

## 2026-02-20 (v0.43.0)

### 新功能
- 新增“粉紫色激进工业风”全局主题系统：黑曜石基底、深灰面板、电光紫/洋红粉高对比强调色
- 新增全局机能装饰层：网格、斜线纹理、噪点、序列号与条码元素

### 改进优化
- 重构顶栏、工具栏、属性面板、排版面板与底部状态栏为半透明悬浮玻璃层，统一硬边与切角视觉
- 统一按钮/输入/列表的交互反馈，增加 Glitch 风格悬停与霓虹描边
- 统一 Naive UI 弹层主题，保证对话框、下拉菜单、提示层风格一致

### 问题修复
- 修复地图框选高亮反馈单一的问题，改为扫描线动画的半透明选区样式
- 修复多个组件未定义主题变量导致的样式回退风险（hover/badge/button 相关变量）

---

## 2026-02-20 (v0.42.0)

### 新功能
- 新增5种地图底图源（Stamen Toner 高对比、Stamen Terrain 地形、ESRI 卫星影像/街道地图/地形地图、Wikimedia 维基）
- 菜单项支持图标显示，添加剪贴板、聚焦、音量、柱状图等图标

### 改进优化
- 重构面板UI布局，使用新的样式类（pp-kv、pp-context、pp-fields、pp-actions）
- 优化按钮样式和交互效果，移除不必要的变换和阴影

### 问题修复
- 修复地图样式加载时的事件处理，使用styledata替代style.load确保图层正确初始化
- 修复确保图层时的检查逻辑，移除对源的不必要检查
- 修复快速改站名模式的Shift+Enter快捷键处理

---

## 2026-02-20 (v0.41.0)

### 问题修复
- 修复箭头描边、闪烁和尺寸问题

---

## 2026-02-20 (v0.40.0)

### 新功能
- 搜索标记改为红色箭头，增加描边和闪烁动画
- 使用箭头图标替代导航图标，从上到下指示搜索位置
- 移除时间轴事件菜单

---

## 2026-02-20 (v0.39.0)

### 新功能
- 添加 OSM 地标搜索功能，支持地名、街道、POI
- 搜索结果显示可点击标记

### 问题修复
- 修复搜索标记不显示问题，添加搜索范围限制

---

## 2026-02-20 (v0.38.0)

### 新功能
- 添加跨工程复制粘贴线段功能
- 底部栏添加版本号显示

### 问题修复
- 修复 Alt+线段删除导致换乘站丢失问题
- 修复删除线段后遗留孤立站点问题
- 修复剪贴板兼容性，支持选中站点复制线段

---

## 2026-02-19 (v0.37.0)

### 新功能
- TTS 报站优化：拼音翻译、过滤当前线路、批量下载、进度显示
- 时间轴预览 UI 优化和导出功能改进
- 快速改站名模式从选中站点开始

### 问题修复
- 修复选中线段颜色和粗细随缩放变化问题

---

## 2026-02-19 (v0.36.0)

### 新功能
- 时间轴预览 banner 显示分期标签
- 导出实际走向图时隐藏站名碰撞

### 改进优化
- 时间轴预览 UI 调整：放大字体、优化瓦片滤镜

---

## 2026-02-19 (v0.35.0)

### 新功能
- Alt+A 全选所有线路
- 线路默认显示白色描边，选中时加粗
- Ctrl+Alt+左键线段选中整条线路所有站点

### 改进优化
- 多选站点支持复制站名到剪贴板
- AI 翻译跳过已有英文名的站点
- 复制站名改用 PCA 主方向排序
- 编辑菜单新增"删除所有未命名新站"

---

## 2026-02-19 (v0.34.0)

### 新功能
- 快速改站名工具（快捷键 Q）

### 问题修复
- 修复快速改站名模式的多个问题
- 改为按线路顺序编辑站名
- 优先从选中线段推断线路

---

## 2026-02-19 (v0.33.0)

### 新功能
- 年份选择器同步控制编辑和地图显示
- 自动设置编辑年份为项目最大年份

### 问题修复
- 拆分 watcher 修复镜头不自动聚焦问题
- 改用监听 selectedStationId 修复镜头聚焦
- 修复站点顺序和镜头聚焦问题
- 修复新增线路编号逻辑

---

## 2026-02-19 (v0.32.0)

### 问题修复
- 布线和添加边模式下显示所有站点
- 修复地图视图站点显示问题

---

## 2026-02-19 (v0.31.0)

### 改进优化
- 简化 AI 自动批量命名处理流程
- 优化站名逻辑

---

## 2026-02-18 (v0.30.0)

### 新功能
- 添加地图瓦片类型切换功能
- 添加批量站名编辑对话框
- 添加 TTS 报站对话框

### 问题修复
- 修复比例尺位置重叠问题

---

## 2026-02-17 (v0.29.0)

### 新功能
- 添加 VitePress 文档系统
- 添加演示文稿

### 改进优化
- 改进时间轴播放功能
- 优化站名逻辑
- 简化网络统计代码

---

## 2026-02-16 (v0.28.0)

### 新功能
- 新增编辑工具集（样式刷、框选、快速连线、锚点编辑、删除、测量、注释）
- 添加土地使用图层显示
- 新增版式控制面板
- 添加导航功能（Dijkstra 算法）

### 改进优化
- 优化快捷键支持
- 改进全球排名展示
- 增强锚点面板信息显示
- 优化主题切换

### 问题修复
- 修复数据持久化问题
- 修复页面刷新时待保存数据丢失
- 优化统计对话框性能

---

## 2026-02-16 (v0.27.0)

### 新功能
- 实现视图切换动画和进度条

---

## 2026-02-16 (v0.26.0)

### 新功能
- AI 配置对话框增强
- 添加网络统计对话框
- 添加标注功能
- 添加多个 UI 组件

---

## 2026-02-16 (v0.25.0)

### 重构
- 大型重构：拆分组件和逻辑到更多文件

---

## 2026-02-16 (v0.24.0)

### 重构
- 重构开源项目文档
- 添加 LICENSE 文件
- 添加 CONTRIBUTING.md

---

## 2026-02-16 (v0.23.0)

### 重构
- 更新 README.md

---

## 2026-02-16 (v0.22.0)

### 新功能
- 添加时间轴预览功能
- 添加全局对话框组件
- 添加错误边界组件
- 添加城市预设导入功能

### 改进优化
- 改进地图导入后镜头动画
- 改进时间轴渲染
- 添加中文字体支持

---

## 2026-02-15 (v0.21.0)

### 重构
- 重构 UI 布局为顶部菜单栏设计

---

## 2026-02-15 (v0.20.0)

### 新功能
- 添加 MenuBar、ToolStrip、PropertiesPanel 组件
- 添加项目列表对话框
- 添加多个 UI 组件

---

## 2026-02-15 (v0.19.0)

### 新功能
- 添加图示视图功能
- 添加济南地铁品牌样式

---

## 2026-02-15 (v0.18.0)

### 改进优化
- 添加图标系统
- 优化 UI 组件

---

## 2026-02-15 (v0.17.0)

### 新功能
- 添加 schematic 导出功能

---

## 2026-02-15 (v0.16.0)

### 问题修复
- 简化代码

---

## 2026-02-14 (v0.15.0)

### 新功能
- 添加历史记录功能
- 添加世界地铁排名功能
- 添加 UI 偏好设置
- 添加济南地铁品牌图标

---

## 2026-02-14 (v0.14.0)

### 新功能
- 添加线路样式功能
- 添加 AI 站点命名功能
- 添加附近站点命名上下文
- 添加换乘检测功能

---

## 2026-02-14 (v0.13.0)

### 新功能
- 添加济南品牌主题
- 添加网络统计功能
- 添加线路图标

---

## 2026-02-14 (v0.12.0)

### 新功能
- 添加 AI 英文翻译功能

---

## 2026-02-14 (v0.11.0)

### 问题修复
- HUD 渲染模型优化
- 简化 MapEditor 代码

---

## 2026-02-14 (v0.10.0)

### 新功能
- 添加 HUD 视图
- 添加导出功能
- 添加线路自动命名

---

## 2026-02-14 (v0.9.0)

### 新功能
- 添加工具栏
- 添加编辑功能

---

## 2026-02-14 (v0.8.0)

### 重构
- 大型重构：模块化架构

---

## 2026-02-14 (v0.7.0)

### 改进优化
- 简化布局算法代码

---

## 2026-02-14 (v0.6.0)

### 新功能
- 添加线路样式
- 添加 HUD 品牌

---

## 2026-02-13 (v0.5.0)

### 新功能
- 添加保存和加载功能

---

## 2026-02-13 (v0.4.0)

### 新功能
- 添加编辑功能
- 添加 OSM 导入

---

## 2026-02-13 (v0.3.0)

### 新功能
- 添加 schematic 渲染
- 添加布局引擎

---

## 2026-02-13 (v0.2.0)

### 改进优化
- 代码优化和清理

---

## 2026-02-13 (v0.1.0)

### 新功能
- 初始项目框架
- 创建基础架构
- 添加地图编辑器、示意图视图、工具栏
- 添加 OSM 导入、数据存储、导出功能
- 添加布局算法
