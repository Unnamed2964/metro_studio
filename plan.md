# RailMap 编辑器增强执行计划（已落地）

## 1. 交互可靠性升级（已完成）
- 线段选择从单选升级为多选：点击支持 Shift/Ctrl/⌘ 追加与切换。
- 框选支持站点与线段同时命中，保留原有站点拖拽与锚点编辑链路。
- 选中高亮从单 ID 过滤改为多 ID 过滤，地图高亮与状态栏计数一致。

## 2. 批量属性编辑（已完成）
- 在线段属性面板新增“批量属性”：
  - 批量迁移所属线
  - 批量设置线型（线段级 `lineStyleOverride`）
  - 批量切换曲线/直线（直线会清理中间锚点）
- 保留单线段详情展示，不移除原有删除/查看能力。

## 3. Undo / Redo（已完成）
- Store 新增历史快照栈：`undo()` / `redo()` / 连续编辑合并策略。
- 工具栏增加撤销/重做按钮，地图增加快捷键：
  - `Ctrl/Cmd+Z` 撤销
  - `Ctrl/Cmd+Shift+Z` 或 `Ctrl/Cmd+Y` 重做
- 导入/加载/新建等生命周期操作会重置历史基线，避免跨工程污染。

## 约束执行
- 不做 mock，不做简化实现。
- 保留原网页功能，不删除既有功能入口。
