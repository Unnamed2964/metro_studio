<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Metro Studio - 轨道交通线网规划可视化平台</title>
<link rel="stylesheet" href="https://api.fontshare.com/v2/css?f[]=general-sans@400;500;600;700&display=swap">
<style>
:root {
    --bg: #0d1117;
    --bg-card: rgba(22,27,34,0.85);
    --text: #e6edf3;
    --text2: #8b949e;
    --accent: #58a6ff;
    --accent-dim: rgba(48,103,186,0.15);
    --accent-border: rgba(48,103,186,0.3);
    --accent2: #3067ba;
    --red: #f85149;
    --green: #3fb950;
    --orange: #d29922;
    --font: 'General Sans', -apple-system, sans-serif;
    --t1: clamp(1.8rem, 5vw, 4rem);
    --t2: clamp(1.2rem, 3vw, 2.2rem);
    --t3: clamp(0.85rem, 1.6vw, 1.15rem);
    --body: clamp(0.7rem, 1.2vw, 0.92rem);
    --small: clamp(0.58rem, 0.85vw, 0.75rem);
    --pad: clamp(1.2rem, 3.5vw, 3.5rem);
    --gap: clamp(0.6rem, 1.5vw, 1.2rem);
    --ease: cubic-bezier(0.16, 1, 0.3, 1);
}
* { margin:0; padding:0; box-sizing:border-box; }
html { scroll-snap-type: y mandatory; scroll-behavior: smooth; height: 100%; }
body { font-family: var(--font); background: var(--bg); color: var(--text); overflow-x: hidden; height: 100%; }

.slide {
    width: 100vw; height: 100vh; height: 100dvh;
    overflow: hidden; scroll-snap-align: start;
    display: flex; flex-direction: column; justify-content: center;
    position: relative; padding: var(--pad);
}
.slide-content {
    flex: 1; display: flex; flex-direction: column;
    justify-content: center; max-height: 100%; overflow: hidden;
}
.blueprint {
    position: absolute; inset: 0; pointer-events: none;
    background:
        linear-gradient(rgba(48,103,186,0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(48,103,186,0.05) 1px, transparent 1px);
    background-size: 40px 40px;
}
.blueprint::after {
    content: ''; position: absolute; inset: 0;
    background: radial-gradient(ellipse at center, transparent 20%, var(--bg) 75%);
}
.progress-bar {
    position: fixed; top: 0; left: 0; height: 3px; z-index: 100;
    background: linear-gradient(90deg, var(--accent), var(--accent2));
    width: 0%; transition: width 0.3s ease;
}
.nav-dots {
    position: fixed; right: clamp(10px,1.5vw,20px); top: 50%;
    transform: translateY(-50%); z-index: 100;
    display: flex; flex-direction: column; gap: 8px;
}
.nav-dot {
    width: 7px; height: 7px; border-radius: 50%;
    background: rgba(255,255,255,0.15); border: none; cursor: pointer;
    transition: all 0.3s ease; padding: 0;
}
.nav-dot.active { background: var(--accent); box-shadow: 0 0 8px rgba(88,166,255,0.4); }
.slide-num {
    position: absolute; bottom: clamp(8px,1.5vw,20px); right: clamp(8px,1.5vw,20px);
    font-size: var(--small); color: var(--text2); opacity: 0.4;
}
.reveal {
    opacity: 0; transform: translateY(16px);
    transition: opacity 0.6s var(--ease), transform 0.6s var(--ease);
}
.slide.visible .reveal { opacity: 1; transform: translateY(0); }
.reveal:nth-child(2){transition-delay:.08s}
.reveal:nth-child(3){transition-delay:.16s}
.reveal:nth-child(4){transition-delay:.24s}
.reveal:nth-child(5){transition-delay:.32s}
.reveal:nth-child(6){transition-delay:.4s}
.reveal:nth-child(7){transition-delay:.48s}
.route-path { stroke-dasharray: 1500; stroke-dashoffset: 1500; }
.slide.visible .route-path { animation: drawRoute 3s 0.3s ease-out forwards; }
@keyframes drawRoute { to { stroke-dashoffset: 0; } }

h1 { font-size: var(--t1); font-weight: 700; line-height: 1.1; }
h2 { font-size: var(--t2); font-weight: 700; line-height: 1.2; }
h3 { font-size: var(--t3); font-weight: 600; line-height: 1.3; }
p, li { font-size: var(--body); line-height: 1.55; color: var(--text2); }
.accent { color: var(--accent); }
.badge {
    display: inline-flex; align-items: center; gap: 6px;
    padding: 4px 12px; border-radius: 16px;
    background: var(--accent-dim); border: 1px solid var(--accent-border);
    font-size: var(--small); color: var(--accent);
    letter-spacing: 0.08em; text-transform: uppercase;
}
.badge::before {
    content: ''; width: 5px; height: 5px; border-radius: 50%;
    background: var(--accent); animation: pulse 2s infinite;
}
@keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.3} }

.card {
    background: var(--bg-card); border: 1px solid rgba(255,255,255,0.06);
    border-radius: 10px; padding: clamp(0.6rem, 1.5vw, 1.2rem);
    backdrop-filter: blur(10px);
}
.card h3 { margin-bottom: clamp(0.2rem, 0.5vw, 0.4rem); }
.grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: clamp(0.5rem, 1.2vw, 0.8rem); }
.grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: clamp(0.5rem, 1.2vw, 0.8rem); }
.grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: clamp(0.5rem, 1vw, 0.7rem); }

.screenshot {
    width: 100%; max-height: min(45vh, 380px);
    object-fit: contain; border-radius: 6px;
    border: 1px solid rgba(255,255,255,0.08);
}
.tech-tags { display: flex; gap: 6px; flex-wrap: wrap; }
.tech-tag {
    padding: 3px 10px; border-radius: 5px;
    background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.08);
    font-size: var(--small); color: var(--text2);
}
.stat-box { text-align: center; }
.stat-val {
    font-size: clamp(1.5rem, 3.5vw, 2.8rem); font-weight: 700; color: var(--accent);
    line-height: 1.1;
}
.stat-label { font-size: var(--small); color: var(--text2); margin-top: 2px; }

.pain-icon {
    flex-shrink: 0; width: clamp(24px, 3vw, 32px); height: clamp(24px, 3vw, 32px);
    border-radius: 8px; display: flex; align-items: center; justify-content: center;
    font-size: clamp(0.7rem, 1.2vw, 0.9rem);
}
.pain-icon.red { background: rgba(248,81,73,0.12); color: var(--red); }
.pain-icon.green { background: rgba(63,185,80,0.12); color: var(--green); }
.pain-icon.blue { background: var(--accent-dim); color: var(--accent); }
.pain-icon.orange { background: rgba(210,153,34,0.12); color: var(--orange); }
.pain-item { display: flex; align-items: flex-start; gap: clamp(6px, 1vw, 10px); }

.feature-card {
    background: var(--bg-card); border: 1px solid rgba(255,255,255,0.06);
    border-radius: 8px; padding: clamp(0.4rem, 1vw, 0.7rem); text-align: center;
}
.feature-card img {
    width: 100%; max-height: min(20vh, 160px);
    object-fit: cover; border-radius: 5px;
    margin-bottom: clamp(0.2rem, 0.5vw, 0.4rem);
}
.feature-card h3 { font-size: clamp(0.75rem, 1.3vw, 1rem); }
.feature-card p { font-size: var(--small); margin-top: 1px; }

.two-col { display: grid; grid-template-columns: 1fr 1fr; gap: clamp(1rem, 2.5vw, 2rem); align-items: center; }
.arch-row { display: flex; gap: clamp(4px, 0.8vw, 8px); align-items: center; flex-wrap: wrap; }
.arch-box {
    padding: clamp(3px, 0.6vw, 6px) clamp(8px, 1.2vw, 14px);
    border-radius: 6px; font-size: var(--small); font-weight: 500;
    white-space: nowrap;
}
.arch-box.blue { background: var(--accent-dim); color: var(--accent); border: 1px solid var(--accent-border); }
.arch-box.green { background: rgba(63,185,80,0.1); color: var(--green); border: 1px solid rgba(63,185,80,0.2); }
.arch-box.orange { background: rgba(210,153,34,0.1); color: var(--orange); border: 1px solid rgba(210,153,34,0.2); }
.arch-box.gray { background: rgba(255,255,255,0.05); color: var(--text2); border: 1px solid rgba(255,255,255,0.1); }
.arch-arrow { color: var(--text2); font-size: var(--small); opacity: 0.5; }

.shortcut-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(min(100%, 140px), 1fr)); gap: clamp(3px, 0.6vw, 6px); }
.shortcut-item {
    display: flex; align-items: center; gap: 6px;
    padding: clamp(3px, 0.5vw, 5px) clamp(6px, 1vw, 10px);
    background: rgba(255,255,255,0.03); border-radius: 5px;
    font-size: var(--small);
}
.shortcut-key {
    padding: 1px 6px; border-radius: 4px;
    background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.12);
    font-size: clamp(0.5rem, 0.7vw, 0.65rem); color: var(--accent);
    font-family: monospace; white-space: nowrap;
}

@media (max-height: 700px) {
    :root { --pad: clamp(0.8rem, 2.5vw, 2rem); --gap: clamp(0.4rem, 1vw, 0.8rem); --t1: clamp(1.5rem, 4.5vw, 3rem); }
}
@media (max-height: 600px) {
    :root { --pad: clamp(0.6rem, 2vw, 1.2rem); --t1: clamp(1.3rem, 4vw, 2.5rem); --t2: clamp(1rem, 2.5vw, 1.6rem); }
    .nav-dots { display: none; }
}
@media (max-height: 500px) {
    :root { --pad: clamp(0.4rem, 1.5vw, 0.8rem); --t1: clamp(1.1rem, 3.5vw, 2rem); --body: clamp(0.6rem, 0.9vw, 0.8rem); }
}
@media (max-width: 768px) {
    .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr 1fr; }
    .two-col { grid-template-columns: 1fr; }
}
@media (max-width: 500px) {
    .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
}
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after { animation-duration: 0.01ms !important; transition-duration: 0.2s !important; }
    html { scroll-behavior: auto; }
}
</style>
</head>
<body>
<div class="progress-bar" id="progressBar"></div>
<nav class="nav-dots" id="navDots"></nav>

<!-- SLIDE 1: COVER -->
<section class="slide" id="s1">
    <div class="blueprint"></div>
    <svg style="position:absolute;inset:0;width:100%;height:100%;opacity:0.12;pointer-events:none" viewBox="0 0 1200 800" preserveAspectRatio="xMidYMid slice">
        <path class="route-path" d="M-50,400 Q200,400 300,280 T500,230 T700,340 T900,180 T1250,280" fill="none" stroke="#58a6ff" stroke-width="3"/>
        <path class="route-path" d="M-50,520 Q300,520 400,400 T650,460 T850,340 T1250,440" fill="none" stroke="#3067ba" stroke-width="2"/>
    </svg>
    <div class="slide-content" style="text-align:center;">
        <div class="reveal"><div class="badge">Rail Transit Visualization Platform</div></div>
        <h1 class="reveal" style="margin-top:var(--gap);">Metro <span class="accent">Studio</span></h1>
        <p class="reveal" style="font-size:clamp(0.9rem,1.8vw,1.2rem);margin-top:clamp(0.3rem,0.8vw,0.6rem);">轨道交通线网规划可视化平台</p>
        <div class="reveal grid-4" style="max-width:700px;margin:clamp(1rem,2.5vw,2rem) auto 0;">
            <div class="stat-box"><div class="stat-val">25K+</div><div class="stat-label">Lines of Code</div></div>
            <div class="stat-box"><div class="stat-val">44</div><div class="stat-label">Vue Components</div></div>
            <div class="stat-box"><div class="stat-val">23</div><div class="stat-label">Composables</div></div>
            <div class="stat-box"><div class="stat-val">40</div><div class="stat-label">Shortcuts</div></div>
        </div>
        <div class="reveal tech-tags" style="justify-content:center;margin-top:var(--gap);">
            <span class="tech-tag">Vue 3.5</span>
            <span class="tech-tag">MapLibre GL</span>
            <span class="tech-tag">Pinia</span>
            <span class="tech-tag">AI Assisted</span>
            <span class="tech-tag">Web Based</span>
            <span class="tech-tag">Open Source</span>
        </div>
    </div>
    <div class="slide-num">01 / 14</div>
</section>

<!-- SLIDE 2: PAIN POINTS -->
<section class="slide" id="s2">
    <div class="blueprint"></div>
    <div class="slide-content">
        <h2 class="reveal">传统线路规划展示的<span class="accent">痛点</span></h2>
        <p class="reveal" style="margin-top:2px;">Why we need a better tool — 现有工作流的四大瓶颈</p>
        <div class="reveal two-col" style="margin-top:var(--gap);">
            <div style="display:flex;flex-direction:column;gap:var(--gap);">
                <div class="pain-item">
                    <div class="pain-icon red">!</div>
                    <div><h3>CAD 图纸不直观</h3><p>专业图纸难以向非技术人员展示，领导审批、公众沟通时需要额外制作示意图，重复劳动</p></div>
                </div>
                <div class="pain-item">
                    <div class="pain-icon red">!</div>
                    <div><h3>方案对比困难</h3><p>多个线路走向方案散落在不同文件中，无法快速切换对比，评审会议效率低下</p></div>
                </div>
                <div class="pain-item">
                    <div class="pain-icon red">!</div>
                    <div><h3>缺乏动态展示</h3><p>静态图片无法展示线路运行效果、建设时序和网络演变过程，汇报缺乏说服力</p></div>
                </div>
                <div class="pain-item">
                    <div class="pain-icon red">!</div>
                    <div><h3>工具链复杂</h3><p>AutoCAD + Illustrator + PowerPoint 多软件协作，学习成本高，版本管理混乱</p></div>
                </div>
            </div>
            <div class="card" style="text-align:center;">
                <p style="font-size:var(--t3);color:var(--text);margin-bottom:var(--gap);">传统工作流</p>
                <div style="display:flex;flex-direction:column;gap:6px;align-items:center;">
                    <div class="arch-box gray">AutoCAD 绘制线路</div>
                    <div class="arch-arrow">↓</div>
                    <div class="arch-box gray">Illustrator 美化</div>
                    <div class="arch-arrow">↓</div>
                    <div class="arch-box gray">PowerPoint 排版</div>
                    <div class="arch-arrow">↓</div>
                    <div class="arch-box gray">导出静态 PDF</div>
                </div>
                <p style="color:var(--red);margin-top:var(--gap);font-size:var(--small);">多工具切换 · 无法交互 · 修改成本高</p>
            </div>
        </div>
    </div>
    <div class="slide-num">02 / 14</div>
</section>

<!-- SLIDE 3: SOLUTION OVERVIEW -->
<section class="slide" id="s3">
    <div class="blueprint"></div>
    <div class="slide-content">
        <div class="reveal"><div class="badge">Solution</div></div>
        <h2 class="reveal" style="margin-top:var(--gap);">一个平台，<span class="accent">四种视角</span>，全流程覆盖</h2>
        <p class="reveal" style="margin-top:2px;max-width:700px;">Metro Studio 是基于 Web 的轨道交通线网编辑与可视化平台，从规划绘制到汇报展示一站式完成</p>
        <div class="reveal grid-4" style="margin-top:var(--gap);">
            <div class="card" style="border-top:2px solid var(--accent);">
                <h3><span class="accent">01</span> 地图编辑</h3>
                <p>在 OpenStreetMap 真实底图上绘制站点与线路，支持多选、批量编辑、样式刷</p>
            </div>
            <div class="card" style="border-top:2px solid var(--green);">
                <h3 style="color:var(--green);">02</span> 示意图</h3>
                <p>力导向算法自动生成 8 方向标准地铁示意图，支持 PNG/SVG 导出</p>
            </div>
            <div class="card" style="border-top:2px solid var(--orange);">
                <h3 style="color:var(--orange);">03</span> 时间线</h3>
                <p>按年份动态展示线网建设进程，支持视频导出，适合汇报演示</p>
            </div>
            <div class="card" style="border-top:2px solid #bc8cff;">
                <h3 style="color:#bc8cff;">04</span> 车载 HUD</h3>
                <p>第一人称视角模拟列车运行，Canvas 渲染，沉浸式体验展示</p>
            </div>
        </div>
        <div class="reveal" style="margin-top:var(--gap);display:flex;gap:clamp(1rem,3vw,2.5rem);justify-content:center;">
            <div class="pain-item" style="gap:6px;"><div class="pain-icon green" style="width:24px;height:24px;font-size:0.7rem;">&#10003;</div><p style="font-size:var(--small);">零安装，浏览器直接使用</p></div>
            <div class="pain-item" style="gap:6px;"><div class="pain-icon green" style="width:24px;height:24px;font-size:0.7rem;">&#10003;</div><p style="font-size:var(--small);">数据本地存储，安全可控</p></div>
            <div class="pain-item" style="gap:6px;"><div class="pain-icon green" style="width:24px;height:24px;font-size:0.7rem;">&#10003;</div><p style="font-size:var(--small);">开源免费，可私有化部署</p></div>
        </div>
    </div>
    <div class="slide-num">03 / 14</div>
</section>

<!-- SLIDE 4: MAP EDITOR -->
<section class="slide" id="s4">
    <div class="blueprint"></div>
    <div class="slide-content">
        <h2 class="reveal">地图编辑器 <span class="accent">Map Editor</span></h2>
        <div class="reveal two-col" style="margin-top:var(--gap);">
            <img class="screenshot" src="docs/public/images/editor.png" alt="编辑器" loading="lazy">
            <div style="display:flex;flex-direction:column;gap:var(--gap);">
                <div class="pain-item"><div class="pain-icon blue">&#9679;</div><div><h3>真实地理底图</h3><p>基于 OpenStreetMap + MapLibre GL 渲染，支持多种瓦片源切换</p></div></div>
                <div class="pain-item"><div class="pain-icon blue">&#9679;</div><div><h3>站点与线路编辑</h3><p>可视化创建站点、绘制连接边、管理线路，支持锚点编辑与路径曲线调整</p></div></div>
                <div class="pain-item"><div class="pain-icon blue">&#9679;</div><div><h3>批量操作</h3><p>框选多站点批量编辑属性，样式刷一键统一风格，F2 快速重命名</p></div></div>
                <div class="pain-item"><div class="pain-icon blue">&#9679;</div><div><h3>OSM 数据导入</h3><p>通过 Overpass API 直接导入真实城市地铁数据（已内置济南地铁预设）</p></div></div>
                <div class="pain-item"><div class="pain-icon blue">&#9679;</div><div><h3>无限撤销/重做</h3><p>完整的操作历史记录，Ctrl+Z / Ctrl+Shift+Z 随时回退</p></div></div>
            </div>
        </div>
    </div>
    <div class="slide-num">04 / 14</div>
</section>

<!-- SLIDE 5: SCHEMATIC VIEW -->
<section class="slide" id="s5">
    <div class="blueprint"></div>
    <div class="slide-content">
        <h2 class="reveal">自动示意图 <span class="accent">Schematic View</span></h2>
        <div class="reveal two-col" style="margin-top:var(--gap);">
            <div style="display:flex;flex-direction:column;gap:var(--gap);">
                <div class="pain-item"><div class="pain-icon green">&#9679;</div><div><h3>力导向布局算法</h3><p>10 个 Worker 模块协同计算，自动生成 8 方向标准地铁示意图</p></div></div>
                <div class="pain-item"><div class="pain-icon green">&#9679;</div><div><h3>约束优化引擎</h3><p>constraints.js + scoring.js 评分系统，确保线路不重叠、标签不遮挡</p></div></div>
                <div class="pain-item"><div class="pain-icon green">&#9679;</div><div><h3>智能标签放置</h3><p>labelPlacement.js 自动计算最优标签位置，避免视觉冲突</p></div></div>
                <div class="pain-item"><div class="pain-icon green">&#9679;</div><div><h3>多格式导出</h3><p>支持 PNG 高清图片和 SVG 矢量格式导出，满足印刷级需求</p></div></div>
            </div>
            <img class="screenshot" src="docs/public/images/schematic.png" alt="示意图" loading="lazy">
        </div>
    </div>
    <div class="slide-num">05 / 14</div>
</section>

<!-- SLIDE 6: TIMELINE & HUD -->
<section class="slide" id="s6">
    <div class="blueprint"></div>
    <div class="slide-content">
        <h2 class="reveal">时间线 & 车载 HUD <span class="accent">Dynamic Views</span></h2>
        <div class="reveal grid-2" style="margin-top:var(--gap);">
            <div class="feature-card">
                <img src="docs/public/images/timeline.png" alt="时间线" loading="lazy">
                <h3>时间线动画 Timeline</h3>
                <p>按年份动态展示线网建设历程，支持播放/暂停/拖拽，可导出视频用于汇报</p>
            </div>
            <div class="feature-card">
                <img src="docs/public/images/hud.png" alt="HUD" loading="lazy">
                <h3>车载 HUD Vehicle HUD</h3>
                <p>Canvas 渲染第一人称列车运行视角，模拟真实乘车体验，适合公众展示与媒体宣传</p>
            </div>
        </div>
        <div class="reveal grid-2" style="margin-top:var(--gap);">
            <div class="card">
                <h3 style="color:var(--orange);">时间线特性</h3>
                <div style="display:flex;flex-direction:column;gap:4px;margin-top:4px;">
                    <p>&#8226; 自定义年份区间与播放速度</p>
                    <p>&#8226; 线路按开通年份逐步显现</p>
                    <p>&#8226; 支持导出为视频文件</p>
                </div>
            </div>
            <div class="card">
                <h3 style="color:#bc8cff;">HUD 特性</h3>
                <div style="display:flex;flex-direction:column;gap:4px;margin-top:4px;">
                    <p>&#8226; 站点间自动路径规划 (Dijkstra)</p>
                    <p>&#8226; 实时速度/距离/站名显示</p>
                    <p>&#8226; TTS 语音播报站名</p>
                </div>
            </div>
        </div>
    </div>
    <div class="slide-num">06 / 14</div>
</section>

<!-- SLIDE 7: AI FEATURES -->
<section class="slide" id="s7">
    <div class="blueprint"></div>
    <div class="slide-content">
        <div class="reveal"><div class="badge">Artificial Intelligence</div></div>
        <h2 class="reveal" style="margin-top:var(--gap);">AI 智能辅助 <span class="accent">AI Assisted</span></h2>
        <div class="reveal grid-3" style="margin-top:var(--gap);">
            <div class="card" style="border-top:2px solid var(--accent);">
                <h3>智能站点命名</h3>
                <p>基于 OSM 周边地理信息（道路、地标、行政区）自动生成中文站名建议，支持批量命名</p>
            </div>
            <div class="card" style="border-top:2px solid var(--green);">
                <h3>英文翻译</h3>
                <p>中文站名自动翻译为英文，遵循地铁行业翻译规范，支持拼音/意译混合模式</p>
            </div>
            <div class="card" style="border-top:2px solid var(--orange);">
                <h3>本地 LLM 集成</h3>
                <p>通过 Ollama 调用本地大语言模型，数据不出内网，兼容 OpenRouter 云端 API</p>
            </div>
        </div>
        <div class="reveal card" style="margin-top:var(--gap);">
            <h3 style="margin-bottom:4px;">AI 命名工作流</h3>
            <div class="arch-row" style="justify-content:center;">
                <div class="arch-box blue">选中站点</div>
                <div class="arch-arrow">→</div>
                <div class="arch-box green">查询 OSM 周边数据</div>
                <div class="arch-arrow">→</div>
                <div class="arch-box orange">LLM 分析地理语境</div>
                <div class="arch-arrow">→</div>
                <div class="arch-box blue">生成候选站名</div>
                <div class="arch-arrow">→</div>
                <div class="arch-box green">用户确认应用</div>
            </div>
        </div>
    </div>
    <div class="slide-num">07 / 14</div>
</section>

<!-- SLIDE 8: ARCHITECTURE -->
<section class="slide" id="s8">
    <div class="blueprint"></div>
    <div class="slide-content">
        <h2 class="reveal">系统架构 <span class="accent">Architecture</span></h2>
        <div class="reveal two-col" style="margin-top:var(--gap);">
            <div style="display:flex;flex-direction:column;gap:var(--gap);">
                <div class="card">
                    <h3 style="color:var(--accent);">UI Layer — 44 Vue Components</h3>
                    <div class="arch-row" style="margin-top:4px;">
                        <div class="arch-box blue">MapEditor</div>
                        <div class="arch-box blue">ToolStrip</div>
                        <div class="arch-box blue">Panels</div>
                        <div class="arch-box blue">Toolbar</div>
                        <div class="arch-box blue">Dialogs</div>
                    </div>
                </div>
                <div class="card">
                    <h3 style="color:var(--green);">State — Pinia + 18 Action Modules</h3>
                    <div class="arch-row" style="margin-top:4px;">
                        <div class="arch-box green">history</div>
                        <div class="arch-box green">lineActions</div>
                        <div class="arch-box green">stationActions</div>
                        <div class="arch-box green">edgeActions</div>
                        <div class="arch-box green">navigation</div>
                        <div class="arch-box green">export</div>
                    </div>
                </div>
                <div class="card">
                    <h3 style="color:var(--orange);">Core Lib — 23 Composables</h3>
                    <div class="arch-row" style="margin-top:4px;">
                        <div class="arch-box orange">autoSave</div>
                        <div class="arch-box orange">shortcuts</div>
                        <div class="arch-box orange">mapExport</div>
                        <div class="arch-box orange">navigation</div>
                        <div class="arch-box orange">contextMenu</div>
                    </div>
                </div>
            </div>
            <div style="display:flex;flex-direction:column;gap:var(--gap);">
                <div class="card">
                    <h3>渲染引擎</h3>
                    <p>MapLibre GL (地图) + Canvas (HUD/Timeline) + SVG (示意图)，三引擎并行</p>
                </div>
                <div class="card">
                    <h3>计算层</h3>
                    <p>Web Worker 异步执行力导向布局，10 个模块协同：forces / constraints / scoring / linePlanning / labelPlacement</p>
                </div>
                <div class="card">
                    <h3>数据层</h3>
                    <p>IndexedDB 本地持久化 + AutoSave 自动保存 + JSZip 项目压缩导出 + SuperJSON 序列化</p>
                </div>
                <div class="card">
                    <h3>外部集成</h3>
                    <p>Overpass API (OSM查询) + Nominatim (地理编码) + Ollama (本地LLM) + OpenRouter (云端AI)</p>
                </div>
            </div>
        </div>
    </div>
    <div class="slide-num">08 / 14</div>
</section>

<!-- SLIDE 9: KEYBOARD & UX -->
<section class="slide" id="s9">
    <div class="blueprint"></div>
    <div class="slide-content">
        <h2 class="reveal">专业级交互体验 <span class="accent">40 Shortcuts</span></h2>
        <p class="reveal" style="margin-top:2px;">覆盖文件操作、编辑、视图切换、工具选择全场景，媲美专业桌面软件</p>
        <div class="reveal grid-3" style="margin-top:var(--gap);">
            <div class="card">
                <h3>文件操作</h3>
                <div class="shortcut-grid" style="margin-top:6px;">
                    <div class="shortcut-item"><span class="shortcut-key">Ctrl+S</span><span>保存</span></div>
                    <div class="shortcut-item"><span class="shortcut-key">Ctrl+N</span><span>新建</span></div>
                    <div class="shortcut-item"><span class="shortcut-key">Ctrl+O</span><span>打开</span></div>
                    <div class="shortcut-item"><span class="shortcut-key">Ctrl+E</span><span>导出PNG</span></div>
                    <div class="shortcut-item"><span class="shortcut-key">Ctrl+⇧S</span><span>另存为</span></div>
                </div>
            </div>
            <div class="card">
                <h3>视图模式</h3>
                <div class="shortcut-grid" style="margin-top:6px;">
                    <div class="shortcut-item"><span class="shortcut-key">1</span><span>地图视图</span></div>
                    <div class="shortcut-item"><span class="shortcut-key">2</span><span>示意图</span></div>
                    <div class="shortcut-item"><span class="shortcut-key">3</span><span>HUD视角</span></div>
                    <div class="shortcut-item"><span class="shortcut-key">4</span><span>时间线</span></div>
                </div>
            </div>
            <div class="card">
                <h3>编辑工具</h3>
                <div class="shortcut-grid" style="margin-top:6px;">
                    <div class="shortcut-item"><span class="shortcut-key">V</span><span>选择</span></div>
                    <div class="shortcut-item"><span class="shortcut-key">S</span><span>添加站点</span></div>
                    <div class="shortcut-item"><span class="shortcut-key">E</span><span>添加边</span></div>
                    <div class="shortcut-item"><span class="shortcut-key">R</span><span>路径绘制</span></div>
                    <div class="shortcut-item"><span class="shortcut-key">M</span><span>样式刷</span></div>
                    <div class="shortcut-item"><span class="shortcut-key">B</span><span>框选</span></div>
                    <div class="shortcut-item"><span class="shortcut-key">T</span><span>测距</span></div>
                    <div class="shortcut-item"><span class="shortcut-key">N</span><span>标注</span></div>
                </div>
            </div>
        </div>
        <div class="reveal" style="margin-top:var(--gap);display:flex;gap:clamp(1rem,3vw,2.5rem);justify-content:center;">
            <div class="pain-item" style="gap:6px;"><div class="pain-icon blue" style="width:24px;height:24px;font-size:0.7rem;">&#10003;</div><p style="font-size:var(--small);">右键上下文菜单</p></div>
            <div class="pain-item" style="gap:6px;"><div class="pain-icon blue" style="width:24px;height:24px;font-size:0.7rem;">&#10003;</div><p style="font-size:var(--small);">Ctrl+Z 无限撤销</p></div>
            <div class="pain-item" style="gap:6px;"><div class="pain-icon blue" style="width:24px;height:24px;font-size:0.7rem;">&#10003;</div><p style="font-size:var(--small);">自动保存 AutoSave</p></div>
            <div class="pain-item" style="gap:6px;"><div class="pain-icon blue" style="width:24px;height:24px;font-size:0.7rem;">&#10003;</div><p style="font-size:var(--small);">Toast 操作反馈</p></div>
        </div>
    </div>
    <div class="slide-num">09 / 14</div>
</section>

<!-- SLIDE 10: DATA & IMPORT -->
<section class="slide" id="s10">
    <div class="blueprint"></div>
    <div class="slide-content">
        <h2 class="reveal">数据能力 <span class="accent">Data & Import</span></h2>
        <div class="reveal grid-2" style="margin-top:var(--gap);">
            <div class="card" style="border-left:3px solid var(--accent);">
                <h3>OpenStreetMap 数据导入</h3>
                <p>通过 Overpass API 查询真实城市地铁线网数据，自动解析拓扑关系、站点坐标、线路归属</p>
                <div class="tech-tags" style="margin-top:6px;">
                    <span class="tech-tag">Overpass API</span>
                    <span class="tech-tag">Nominatim</span>
                    <span class="tech-tag">拓扑分析</span>
                </div>
            </div>
            <div class="card" style="border-left:3px solid var(--green);">
                <h3>城市预设系统</h3>
                <p>内置济南地铁完整数据预设，包含站名规则、线路状态追踪，可扩展其他城市</p>
                <div class="tech-tags" style="margin-top:6px;">
                    <span class="tech-tag">济南地铁</span>
                    <span class="tech-tag">可扩展</span>
                    <span class="tech-tag">预设模板</span>
                </div>
            </div>
            <div class="card" style="border-left:3px solid var(--orange);">
                <h3>项目持久化</h3>
                <p>IndexedDB 本地存储 + AutoSave 自动保存 + JSZip 压缩导出，SuperJSON 序列化确保数据完整性</p>
                <div class="tech-tags" style="margin-top:6px;">
                    <span class="tech-tag">IndexedDB</span>
                    <span class="tech-tag">JSZip</span>
                    <span class="tech-tag">SuperJSON</span>
                </div>
            </div>
            <div class="card" style="border-left:3px solid #bc8cff;">
                <h3>多格式导出</h3>
                <p>PNG 高清截图、SVG 矢量图、视频动画、JSON 项目文件，满足印刷/Web/汇报多场景需求</p>
                <div class="tech-tags" style="margin-top:6px;">
                    <span class="tech-tag">PNG</span>
                    <span class="tech-tag">SVG</span>
                    <span class="tech-tag">Video</span>
                    <span class="tech-tag">JSON</span>
                </div>
            </div>
        </div>
    </div>
    <div class="slide-num">10 / 14</div>
</section>

<!-- SLIDE 11: TECH STACK -->
<section class="slide" id="s11">
    <div class="blueprint"></div>
    <div class="slide-content">
        <h2 class="reveal">技术栈全景 <span class="accent">Tech Stack</span></h2>
        <div class="reveal grid-2" style="margin-top:var(--gap);">
            <div class="card">
                <h3 style="color:var(--accent);">前端框架</h3>
                <p>Vue 3.5 Composition API + Pinia 3.0 状态管理，模块化架构，18 个 Action 模块解耦业务逻辑</p>
                <div class="tech-tags" style="margin-top:6px;"><span class="tech-tag">Vue 3.5.25</span><span class="tech-tag">Pinia 3.0.4</span><span class="tech-tag">Vite 7.3.1</span></div>
            </div>
            <div class="card">
                <h3 style="color:var(--green);">地图与可视化</h3>
                <p>MapLibre GL 5.18 高性能矢量瓦片渲染 + Turf.js 地理空间分析 + PMTiles 离线瓦片</p>
                <div class="tech-tags" style="margin-top:6px;"><span class="tech-tag">MapLibre GL 5.18</span><span class="tech-tag">Turf.js</span><span class="tech-tag">PMTiles</span></div>
            </div>
            <div class="card">
                <h3 style="color:var(--orange);">AI & 外部服务</h3>
                <p>Ollama 本地 LLM 推理 + OpenRouter 云端 API + Overpass/Nominatim 地理数据服务</p>
                <div class="tech-tags" style="margin-top:6px;"><span class="tech-tag">Ollama</span><span class="tech-tag">OpenRouter</span><span class="tech-tag">Overpass API</span></div>
            </div>
            <div class="card">
                <h3 style="color:#bc8cff;">性能与存储</h3>
                <p>Web Worker 异步布局计算 + IndexedDB 持久化 + JSZip 压缩 + 手动 Chunk 分包优化</p>
                <div class="tech-tags" style="margin-top:6px;"><span class="tech-tag">Web Workers</span><span class="tech-tag">IndexedDB</span><span class="tech-tag">JSZip</span></div>
            </div>
        </div>
        <div class="reveal card" style="margin-top:var(--gap);text-align:center;">
            <h3 style="margin-bottom:6px;">依赖精简：仅 9 个生产依赖 + 3 个开发依赖</h3>
            <p>轻量级架构，无冗余框架，构建产物体积小，加载速度快</p>
        </div>
    </div>
    <div class="slide-num">11 / 14</div>
</section>

<!-- SLIDE 12: INDUSTRY APPLICATION -->
<section class="slide" id="s12">
    <div class="blueprint"></div>
    <div class="slide-content">
        <div class="reveal"><div class="badge">Industry Application</div></div>
        <h2 class="reveal" style="margin-top:var(--gap);">交通基建行业<span class="accent">应用场景</span></h2>
        <div class="reveal grid-3" style="margin-top:var(--gap);">
            <div class="card" style="border-top:2px solid var(--accent);">
                <h3 style="color:var(--accent);">线路方案评审</h3>
                <p>将 CAD 规划方案转化为交互式地图，多方案快速切换对比，支持实时标注批注，提升评审效率</p>
                <div style="margin-top:6px;display:flex;flex-direction:column;gap:2px;">
                    <p style="font-size:var(--small);">&#8226; 地图视图直观展示走向</p>
                    <p style="font-size:var(--small);">&#8226; 示意图标准化输出</p>
                    <p style="font-size:var(--small);">&#8226; 测距工具辅助决策</p>
                </div>
            </div>
            <div class="card" style="border-top:2px solid var(--green);">
                <h3 style="color:var(--green);">领导汇报展示</h3>
                <p>时间线动画展示建设规划时序，HUD 视角模拟运营效果，比 PPT 静态图片更有说服力</p>
                <div style="margin-top:6px;display:flex;flex-direction:column;gap:2px;">
                    <p style="font-size:var(--small);">&#8226; 时间线动画可导出视频</p>
                    <p style="font-size:var(--small);">&#8226; HUD 沉浸式体验</p>
                    <p style="font-size:var(--small);">&#8226; 高清 PNG/SVG 导出</p>
                </div>
            </div>
            <div class="card" style="border-top:2px solid var(--orange);">
                <h3 style="color:var(--orange);">公众沟通宣传</h3>
                <p>生成标准地铁示意图用于公示，HUD 体验用于展厅互动，降低公众理解门槛</p>
                <div style="margin-top:6px;display:flex;flex-direction:column;gap:2px;">
                    <p style="font-size:var(--small);">&#8226; 标准示意图公示</p>
                    <p style="font-size:var(--small);">&#8226; 展厅互动体验</p>
                    <p style="font-size:var(--small);">&#8226; 媒体素材输出</p>
                </div>
            </div>
        </div>
        <div class="reveal" style="margin-top:var(--gap);text-align:center;">
            <p style="font-size:var(--small);color:var(--text2);opacity:0.7;">纯 Web 应用 · 零安装零配置 · 浏览器即用 · 数据本地存储不出内网 · 可私有化部署</p>
        </div>
    </div>
    <div class="slide-num">12 / 14</div>
</section>

<!-- SLIDE 13: PROJECT STATS -->
<section class="slide" id="s13">
    <div class="blueprint"></div>
    <div class="slide-content">
        <h2 class="reveal">项目规模 <span class="accent">Project Scale</span></h2>
        <div class="reveal grid-4" style="margin-top:var(--gap);">
            <div class="card" style="text-align:center;"><div class="stat-val">25K+</div><div class="stat-label">Lines of Code</div></div>
            <div class="card" style="text-align:center;"><div class="stat-val">44</div><div class="stat-label">Vue Components</div></div>
            <div class="card" style="text-align:center;"><div class="stat-val">80+</div><div class="stat-label">JS Modules</div></div>
            <div class="card" style="text-align:center;"><div class="stat-val">18</div><div class="stat-label">Action Modules</div></div>
        </div>
        <div class="reveal grid-4" style="margin-top:var(--gap);">
            <div class="card" style="text-align:center;"><div class="stat-val">23</div><div class="stat-label">Composables</div></div>
            <div class="card" style="text-align:center;"><div class="stat-val">40</div><div class="stat-label">Keyboard Shortcuts</div></div>
            <div class="card" style="text-align:center;"><div class="stat-val">10</div><div class="stat-label">Layout Workers</div></div>
            <div class="card" style="text-align:center;"><div class="stat-val">4</div><div class="stat-label">View Modes</div></div>
        </div>
        <div class="reveal grid-3" style="margin-top:var(--gap);">
            <div class="card">
                <h3>代码质量</h3>
                <p>Composition API 全面采用，模块化解耦，Web Worker 异步计算不阻塞 UI</p>
            </div>
            <div class="card">
                <h3>依赖管控</h3>
                <p>仅 9 个生产依赖，无冗余框架，Vite 7 构建，手动 Chunk 分包优化加载</p>
            </div>
            <div class="card">
                <h3>文档体系</h3>
                <p>VitePress 驱动的项目文档站，Composables / OSM 模块均有 README 说明</p>
            </div>
        </div>
    </div>
    <div class="slide-num">13 / 14</div>
</section>

<!-- SLIDE 14: CLOSING -->
<section class="slide" id="s14">
    <div class="blueprint"></div>
    <svg style="position:absolute;inset:0;width:100%;height:100%;opacity:0.1;pointer-events:none" viewBox="0 0 1200 800" preserveAspectRatio="xMidYMid slice">
        <path class="route-path" d="M-50,350 Q200,350 350,250 T600,300 T800,200 T1250,250" fill="none" stroke="#58a6ff" stroke-width="3"/>
        <path class="route-path" d="M-50,500 Q250,500 400,380 T700,420 T950,300 T1250,380" fill="none" stroke="#3067ba" stroke-width="2"/>
    </svg>
    <div class="slide-content" style="text-align:center;">
        <h1 class="reveal">Thank <span class="accent">You</span></h1>
        <p class="reveal" style="font-size:clamp(0.9rem,1.8vw,1.2rem);margin-top:clamp(0.3rem,0.8vw,0.6rem);color:var(--text2);">
            Metro Studio — 让轨道交通规划更直观
        </p>
        <div class="reveal" style="margin-top:var(--gap);display:flex;gap:12px;justify-content:center;">
            <div class="badge">Open Source</div>
            <div class="badge">Web Based</div>
            <div class="badge">AI Powered</div>
        </div>
        <div class="reveal grid-3" style="max-width:650px;margin:var(--gap) auto 0;">
            <div class="stat-box"><div class="stat-val" style="font-size:clamp(1rem,2vw,1.5rem);">25K+</div><div class="stat-label">代码量</div></div>
            <div class="stat-box"><div class="stat-val" style="font-size:clamp(1rem,2vw,1.5rem);">4</div><div class="stat-label">视图模式</div></div>
            <div class="stat-box"><div class="stat-val" style="font-size:clamp(1rem,2vw,1.5rem);">9</div><div class="stat-label">核心依赖</div></div>
        </div>
    </div>
    <div class="slide-num">14 / 14</div>
</section>

<script>
class SlidePresentation {
    constructor() {
        this.slides = document.querySelectorAll('.slide');
        this.progressBar = document.getElementById('progressBar');
        this.navDotsContainer = document.getElementById('navDots');
        this.currentSlide = 0;
        this.isScrolling = false;
        this.createNavDots();
        this.setupObserver();
        this.setupKeyboard();
        this.setupWheel();
        this.setupTouch();
    }

    createNavDots() {
        this.slides.forEach((_, i) => {
            const dot = document.createElement('button');
            dot.className = 'nav-dot' + (i === 0 ? ' active' : '');
            dot.setAttribute('aria-label', 'Slide ' + (i + 1));
            dot.addEventListener('click', () => this.goTo(i));
            this.navDotsContainer.appendChild(dot);
        });
        this.dots = this.navDotsContainer.querySelectorAll('.nav-dot');
    }

    setupObserver() {
        const obs = new IntersectionObserver((entries) => {
            entries.forEach(e => {
                if (e.isIntersecting) {
                    e.target.classList.add('visible');
                    this.currentSlide = Array.from(this.slides).indexOf(e.target);
                    this.updateUI();
                }
            });
        }, { threshold: 0.5 });
        this.slides.forEach(s => obs.observe(s));
    }

    setupKeyboard() {
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowDown' || e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault(); this.goTo(Math.min(this.currentSlide + 1, this.slides.length - 1));
            } else if (e.key === 'ArrowUp' || e.key === 'ArrowLeft') {
                e.preventDefault(); this.goTo(Math.max(this.currentSlide - 1, 0));
            }
        });
    }

    setupWheel() {
        let t;
        document.addEventListener('wheel', (e) => {
            if (this.isScrolling) return;
            this.isScrolling = true;
            clearTimeout(t);
            t = setTimeout(() => { this.isScrolling = false; }, 800);
            if (e.deltaY > 0) this.goTo(Math.min(this.currentSlide + 1, this.slides.length - 1));
            else this.goTo(Math.max(this.currentSlide - 1, 0));
        }, { passive: true });
    }

    setupTouch() {
        let startY;
        document.addEventListener('touchstart', (e) => { startY = e.touches[0].clientY; });
        document.addEventListener('touchend', (e) => {
            const d = startY - e.changedTouches[0].clientY;
            if (Math.abs(d) > 50) {
                if (d > 0) this.goTo(Math.min(this.currentSlide + 1, this.slides.length - 1));
                else this.goTo(Math.max(this.currentSlide - 1, 0));
            }
        });
    }

    goTo(i) {
        this.slides[i].scrollIntoView({ behavior: 'smooth' });
        this.currentSlide = i;
        this.updateUI();
    }

    updateUI() {
        this.progressBar.style.width = ((this.currentSlide + 1) / this.slides.length * 100) + '%';
        this.dots.forEach((d, i) => d.classList.toggle('active', i === this.currentSlide));
    }
}
new SlidePresentation();
</script>
</body>
</html>